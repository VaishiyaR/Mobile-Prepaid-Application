<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recharge</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        header {
            background-color: rgb(50, 27, 200);
        }
        .navbar {
            width: 100%;
            background-color: rgb(50, 27, 200) !important;
            color: white !important;
            border: 1px solid rgb(50, 27, 200);
        }
        
        .container {
            max-width: 600px;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 5%;
            margin-bottom: 10%;
        }
        footer {
            text-align: center;
            background-color: rgb(50, 27, 200);
            margin: 10px;
            padding: 10px;
            color: white;
            margin-top: 10%;
            background-color: #6c757d !important; /* Bootstrap secondary grey */
        }
    </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark sticky-top">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">
            <img src="mobile2.jpg" alt="Logo" width="30" height="24" class="d-inline-block align-text-top">
            <span style="color: gold;">Mobi.Comm</span>
        </a>
    </div>
</nav>

<!-- Recharge Plan Details -->
<div class="container mt-5" style="background-color: #E3F2FD;">
    <h2 id="plan-title"></h2>
    <p id="plan-description"></p>

    <h4>Select Payment Method</h4>
    <select id="payment-method" class="form-select">
        <option value="card-fields" disabled selected>Select the mode of payment</option>
        <option value="card-fields">Credit/Debit Card</option>
        <option value="bank-transfer">Bank Transfer</option>
        <option value="upi">UPI</option>
    </select>

    <!-- Payment Form Fields -->
    <div id="payment-fields" class="mt-3" style="display: none;">
        <!-- For UPI -->
        <div id="upi-fields" style="display: none;">
            <label for="upi-id">UPI ID:</label>
            <input type="text" id="upi-id" class="form-control" placeholder="Enter UPI ID">
        </div>

        <!-- For Bank Transfer -->
        <div id="bank-transfer-fields" style="display: none;">
            <label for="account-holder">Account Holder Name:</label>
            <input type="text" id="account-holder" class="form-control" placeholder="Enter Account Holder Name">

            <label for="bank-account">Bank Account Number:</label>
            <input type="text" id="bank-account" class="form-control" placeholder="Enter Bank Account Number">

            <label for="ifsc-code">IFSC Code:</label>
            <input type="text" id="ifsc-code" class="form-control" placeholder="Enter IFSC Code">

            <label for="bank-name">Bank Name:</label>
            <input type="text" id="bank-name" class="form-control" placeholder="Enter Bank Name">
        </div>

        <!-- For Card -->
        <div id="card-fields" style="display: none;">
            <label for="account-holder">Accounter Name:</label>
            <input type="text" id="account-holder-card" class="form-control" placeholder="Enter Account Holder Name">

            <label for="card-number">Account Number:</label>
            <input type="text" id="card-number" class="form-control" placeholder="Enter Card Number">

            <label for="expiry-date">Expiry Date:</label>
            <input type="text" id="expiry-date" class="form-control" placeholder="MM/YY">

            <label for="cvv">CVV:</label>
            <input type="text" id="cvv" class="form-control" placeholder="Enter CVV">
        </div>
    </div>

    <button class="btn btn-success mt-3" onclick="proceedToPayment()">Proceed to Payment</button>

    <!-- Error Message -->
    <div id="error-message" class="alert alert-danger mt-3" style="display: none;"></div>
</div>

<!-- Success Message -->
<div id="success-message" class="container mt-4" style="display: none;">
    <div class="alert alert-success" role="alert">
        <h4 class="alert-heading">Payment Successful!</h4>
        <p>Your recharge has been successfully processed. A confirmation email has been sent to your registered email address.</p>

        <button class="btn btn-primary" onclick="goBack()">Back to home</button>
    </div>
</div>

<!-- Footer -->
<footer class="text-light bg-secondary mt-5 p-4" >
    <div class="row">
        <!-- Company Info -->
        <div class="col-md-4">
            <h5>About Mobi.Comm</h5>
            <p>Mobi.Comm is a leading mobile service provider offering affordable plans with high-speed data, unlimited calls, and seamless connectivity across the country.</p>
        </div>
        
        <!-- Quick Links -->
        <div class="col-md-4">
            <h5>Quick Links</h5>
            <ul class="list-unstyled">
                <li><a href="aboutus.html" class="text-light">About Us</a></li>
            </ul>
        </div>

        <!-- Contact Information -->
        <div class="col-md-4">
            <h5>Contact Us</h5>
            <p><i class="bi bi-envelope-fill"></i> support@mobicomm.com</p>
            <p><i class="bi bi-telephone-fill"></i> +91 98765 43210</p>
            <p><i class="bi bi-geo-alt-fill"></i> India</p>
            
            <!-- Social Media Links -->
            <div>
                <a href="#" class="text-light me-3"><i class="bi bi-facebook"></i></a>
                <a href="#" class="text-light me-3"><i class="bi bi-twitter"></i></a>
                <a href="#" class="text-light me-3"><i class="bi bi-instagram"></i></a>
                <a href="#" class="text-light"><i class="bi bi-linkedin"></i></a>
            </div>
        </div>
    </div>

    <!-- Copyright -->
    <div class="text-center mt-3">
        <p>&copy; 2025 Mobi.Comm. All rights reserved.</p>
    </div>
</footer>

<script>
    // Function to extract URL parameters
    function getUrlParams() {
        const urlParams = new URLSearchParams(window.location.search);
        const planId = urlParams.get('planId');
        const planDetails = decodeURIComponent(urlParams.get('planDetails'));
        return { planId, planDetails };
    }

    // Populate plan details on the recharge page
    window.onload = function() {
        const { planId, planDetails } = getUrlParams();

        if (planId && planDetails) {
            document.getElementById('plan-title').innerText = planId + ' Plan';
            document.getElementById('plan-description').innerText = planDetails;
        }
    }

    // Show appropriate fields based on payment method
    document.getElementById('payment-method').addEventListener('change', function() {
        const paymentMethod = this.value;
        document.getElementById('payment-fields').style.display = 'block';
        document.getElementById('upi-fields').style.display = (paymentMethod === 'upi') ? 'block' : 'none';
        document.getElementById('bank-transfer-fields').style.display = (paymentMethod === 'bank-transfer') ? 'block' : 'none';
        document.getElementById('card-fields').style.display = (paymentMethod === 'card-fields') ? 'block' : 'none';
    });

    function proceedToPayment() {
        const paymentMethod = document.getElementById('payment-method').value;
        let paymentDetails = '';
        
        if (paymentMethod === 'upi') {
            paymentDetails = document.getElementById('upi-id').value;
        } else if (paymentMethod === 'bank-transfer') {
            paymentDetails = {
                accountHolder: document.getElementById('account-holder').value,
                bankAccount: document.getElementById('bank-account').value,
                ifscCode: document.getElementById('ifsc-code').value,
                bankName: document.getElementById('bank-name').value
            };
        } else if (paymentMethod === 'card-fields') {
            paymentDetails = {
                accountHolder: document.getElementById('account-holder-card').value,
                cardNumber: document.getElementById('card-number').value,
                expiryDate: document.getElementById('expiry-date').value,
                cvv: document.getElementById('cvv').value
            };
        }

        // Check if the required fields are filled
        if (paymentMethod === 'bank-transfer') {
            if (!paymentDetails.accountHolder || !paymentDetails.bankAccount || !paymentDetails.ifscCode || !paymentDetails.bankName) {
                showError('Please fill in all bank details.');
                return;
            }
        } else if (paymentMethod === 'card-fields') {
            if (!paymentDetails.accountHolder || !paymentDetails.cardNumber || !paymentDetails.expiryDate || !paymentDetails.cvv) {
                showError('Please fill in all card details.');
                return;
            }
        } else if (!paymentDetails) {
            showError('Please fill in the required payment details.');
            return;
        }

        // Simulate payment processing
        setTimeout(function() {
            document.getElementById('success-message').style.display = 'block';
            document.querySelector('.container').style.display = 'none'; // Hide the form
        }, 1000); // Simulate 1-second payment processing
    }

    // Show error message
    function showError(message) {
        let errorMessageDiv = document.getElementById('error-message');

        if (!errorMessageDiv) {
            // Create the error message div if it doesn't exist
            errorMessageDiv = document.createElement('div');
            errorMessageDiv.id = 'error-message';
            errorMessageDiv.className = 'alert alert-danger';
            document.querySelector('.container').insertBefore(errorMessageDiv, document.querySelector('.container').firstChild);
        }

        errorMessageDiv.innerText = message;
        errorMessageDiv.style.display = 'block';
    }
    // Function to go back to the previous page
function goBack() {
    window.location.href = 'customer-home.html';
}


</script>

</body>
</html>
